/**
 * Battle Feature Styles
 * All animations and component styles for the battle system
 */

/* ============================================
   BATTLE CARD ANIMATIONS
   ============================================ */

/* Attack lunge animation - card moves toward opponent */
@keyframes attack-lunge-right {
  0% {
    transform: translateX(0);
  }
  30% {
    transform: translateX(30px) scale(1.05);
  }
  60% {
    transform: translateX(15px);
  }
  100% {
    transform: translateX(0);
  }
}

@keyframes attack-lunge-left {
  0% {
    transform: translateX(0);
  }
  30% {
    transform: translateX(-30px) scale(1.05);
  }
  60% {
    transform: translateX(-15px);
  }
  100% {
    transform: translateX(0);
  }
}

/* Damage shake animation - card shakes when hit */
@keyframes damage-shake {
  0%,
  100% {
    transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translateX(-5px);
  }
  20%,
  40%,
  60%,
  80% {
    transform: translateX(5px);
  }
}

/* Danger pulse - red glow when HP < 25% */
@keyframes danger-pulse {
  0%,
  100% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(239, 68, 68, 0);
  }
}

/* Winner glow - golden glow effect */
@keyframes winner-glow {
  0%,
  100% {
    box-shadow: 0 0 20px 5px rgba(250, 204, 21, 0.5);
  }
  50% {
    box-shadow: 0 0 30px 10px rgba(250, 204, 21, 0.8);
  }
}

.animate-attack-lunge-right {
  animation: attack-lunge-right 400ms ease-out;
}

.animate-attack-lunge-left {
  animation: attack-lunge-left 400ms ease-out;
}

.animate-damage-shake {
  animation: damage-shake 400ms ease-out;
}

.animate-danger-pulse {
  animation: danger-pulse 1.5s ease-in-out infinite;
}

.animate-winner-glow {
  animation: winner-glow 2s ease-in-out infinite;
}

/* Subtle bounce for victory badge */
@keyframes bounce-subtle {
  0%,
  100% {
    transform: translateX(-50%) translateY(0);
  }
  50% {
    transform: translateX(-50%) translateY(-3px);
  }
}

.animate-bounce-subtle {
  animation: bounce-subtle 2s ease-in-out infinite;
}

/* Winner sparkles effect - CSS only for smooth GPU-accelerated animation */
.winner-sparkles {
  position: absolute;
  inset: -10px;
  background-image:
    radial-gradient(circle at 15% 15%, #ffd700 4px, transparent 4px),
    radial-gradient(circle at 85% 20%, #ffa500 5px, transparent 5px),
    radial-gradient(circle at 25% 75%, #ffff00 4px, transparent 4px),
    radial-gradient(circle at 75% 85%, #ffe4b5 4px, transparent 4px),
    radial-gradient(circle at 5% 50%, #ffd700 3px, transparent 3px),
    radial-gradient(circle at 95% 45%, #ffa500 5px, transparent 5px),
    radial-gradient(circle at 50% 10%, #ffff00 4px, transparent 4px),
    radial-gradient(circle at 50% 90%, #ffd700 4px, transparent 4px),
    radial-gradient(circle at 35% 35%, #ffa500 3px, transparent 3px),
    radial-gradient(circle at 65% 65%, #ffff00 3px, transparent 3px);
  animation: sparkle-shimmer 1.5s ease-in-out infinite;
}

/* Second layer of sparkles with different timing */
.winner-sparkles::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(circle at 30% 25%, #fff 3px, transparent 3px),
    radial-gradient(circle at 70% 35%, #fff 2px, transparent 2px),
    radial-gradient(circle at 20% 65%, #fff 3px, transparent 3px),
    radial-gradient(circle at 80% 75%, #fff 2px, transparent 2px);
  animation: sparkle-shimmer 1s ease-in-out infinite 0.5s;
}

@keyframes sparkle-shimmer {
  0%,
  100% {
    opacity: 0;
    transform: scale(0.8);
  }
  50% {
    opacity: 1;
    transform: scale(1.1);
  }
}

/* ============================================
   DAMAGE NUMBER ANIMATIONS & STYLES
   ============================================ */

/* Fly up animation - damage number floats up and fades */
@keyframes damage-fly-up {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  20% {
    opacity: 1;
    transform: translateY(-20px) scale(1.2);
  }
  100% {
    opacity: 0;
    transform: translateY(-80px) scale(0.8);
  }
}

/* Critical hit pulse effect */
@keyframes critical-pulse {
  0%,
  100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
}

/* Centered damage animation - float up and fade out */
@keyframes damage-centered {
  0% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 0;
    transform: translateY(-40px);
  }
}

/* Centered heal animation - float up and fade out */
@keyframes heal-centered {
  0% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 0;
    transform: translateY(-30px);
  }
}

.animate-damage-fly-up {
  animation: damage-fly-up 800ms ease-out forwards;
}

.animate-damage-centered {
  animation: damage-centered 800ms ease-out forwards;
}

.animate-heal-centered {
  animation: heal-centered 800ms ease-out forwards;
}

.animate-critical-pulse {
  animation: critical-pulse 200ms ease-in-out 2;
}

/* Damage Number Component Styles */
.damage-number {
  @apply absolute pointer-events-none z-50 left-1/2 -translate-x-1/2;
  top: 30%;
}

.damage-text {
  @apply font-bold drop-shadow-lg;
}

.damage-text-normal {
  @apply text-3xl text-red-500;
}

.damage-text-critical {
  @apply text-5xl text-orange-500;
  filter: drop-shadow(0 0 10px rgba(249, 115, 22, 0.8));
}

.damage-crit-label {
  @apply ml-1 text-2xl text-yellow-400 font-extrabold;
}

/* Heal Number Component Styles */
.heal-number {
  @apply absolute pointer-events-none z-50 left-1/2 -translate-x-1/2;
  top: 20%;
}

.heal-text {
  @apply font-bold drop-shadow-lg;
}

/* ============================================
   BATTLE REPLAY PLAYER STYLES
   ============================================ */

/* Replay progress bar hover effect */
.replay-progress-marker:hover {
  @apply bg-primary/50;
}

/* Replay card container */
.replay-card-container {
  @apply relative transition-all duration-300;
}

/* Replay turn indicator animation */
@keyframes turn-indicator-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.animate-turn-indicator {
  animation: turn-indicator-pulse 1s ease-in-out infinite;
}

/* Speed button active state */
.speed-button-active {
  @apply bg-primary text-primary-foreground;
}

/* Replay controls container */
.replay-controls {
  @apply bg-card/80 backdrop-blur-sm rounded-lg p-4 shadow-lg;
}
