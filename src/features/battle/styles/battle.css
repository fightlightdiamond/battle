/**
 * Battle Feature Styles
 * All animations and component styles for the battle system
 */

/* ============================================
   BATTLE CARD ANIMATIONS
   ============================================ */

/* Attack lunge animation - card moves toward opponent */
@keyframes attack-lunge-right {
  0% {
    transform: translateX(0);
  }
  30% {
    transform: translateX(30px) scale(1.05);
  }
  60% {
    transform: translateX(15px);
  }
  100% {
    transform: translateX(0);
  }
}

@keyframes attack-lunge-left {
  0% {
    transform: translateX(0);
  }
  30% {
    transform: translateX(-30px) scale(1.05);
  }
  60% {
    transform: translateX(-15px);
  }
  100% {
    transform: translateX(0);
  }
}

/* Damage shake animation - card shakes when hit */
@keyframes damage-shake {
  0%,
  100% {
    transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translateX(-5px);
  }
  20%,
  40%,
  60%,
  80% {
    transform: translateX(5px);
  }
}

/* Danger pulse - red glow when HP < 25% */
@keyframes danger-pulse {
  0%,
  100% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(239, 68, 68, 0);
  }
}

/* Winner glow - golden glow effect */
@keyframes winner-glow {
  0%,
  100% {
    box-shadow: 0 0 20px 5px rgba(250, 204, 21, 0.5);
  }
  50% {
    box-shadow: 0 0 30px 10px rgba(250, 204, 21, 0.8);
  }
}

.animate-attack-lunge-right {
  animation: attack-lunge-right 400ms ease-out;
}

.animate-attack-lunge-left {
  animation: attack-lunge-left 400ms ease-out;
}

.animate-damage-shake {
  animation: damage-shake 400ms ease-out;
}

.animate-danger-pulse {
  animation: danger-pulse 1.5s ease-in-out infinite;
}

.animate-winner-glow {
  animation: winner-glow 2s ease-in-out infinite;
}

/* ============================================
   DAMAGE NUMBER ANIMATIONS & STYLES
   ============================================ */

/* Fly up animation - damage number floats up and fades */
@keyframes damage-fly-up {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  20% {
    opacity: 1;
    transform: translateY(-20px) scale(1.2);
  }
  100% {
    opacity: 0;
    transform: translateY(-80px) scale(0.8);
  }
}

/* Critical hit pulse effect */
@keyframes critical-pulse {
  0%,
  100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
}

/* Centered damage animation - float up and fade out */
@keyframes damage-centered {
  0% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 0;
    transform: translateY(-40px);
  }
}

/* Centered heal animation - float up and fade out */
@keyframes heal-centered {
  0% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 0;
    transform: translateY(-30px);
  }
}

.animate-damage-fly-up {
  animation: damage-fly-up 800ms ease-out forwards;
}

.animate-damage-centered {
  animation: damage-centered 800ms ease-out forwards;
}

.animate-heal-centered {
  animation: heal-centered 800ms ease-out forwards;
}

.animate-critical-pulse {
  animation: critical-pulse 200ms ease-in-out 2;
}

/* Damage Number Component Styles */
.damage-number {
  @apply absolute pointer-events-none z-50 left-1/2 -translate-x-1/2;
  top: 30%;
}

.damage-text {
  @apply font-bold drop-shadow-lg;
}

.damage-text-normal {
  @apply text-3xl text-red-500;
}

.damage-text-critical {
  @apply text-5xl text-orange-500;
  filter: drop-shadow(0 0 10px rgba(249, 115, 22, 0.8));
}

.damage-crit-label {
  @apply ml-1 text-2xl text-yellow-400 font-extrabold;
}

/* Heal Number Component Styles */
.heal-number {
  @apply absolute pointer-events-none z-50 left-1/2 -translate-x-1/2;
  top: 20%;
}

.heal-text {
  @apply font-bold drop-shadow-lg;
}

/* ============================================
   VICTORY OVERLAY ANIMATIONS
   ============================================ */

/* Victory title shimmer effect */
@keyframes victory-title {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

.animate-victory-title {
  background-size: 200% auto;
  animation: victory-title 3s linear infinite;
}

/* Winner glow pulse effect */
@keyframes winner-glow-pulse {
  0%,
  100% {
    opacity: 0.5;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

.animate-winner-glow-pulse {
  animation: winner-glow-pulse 2s ease-in-out infinite;
}

/* Subtle bounce for badges */
@keyframes bounce-subtle {
  0%,
  100% {
    transform: translateX(-50%) translateY(0);
  }
  50% {
    transform: translateX(-50%) translateY(-3px);
  }
}

.animate-bounce-subtle {
  animation: bounce-subtle 2s ease-in-out infinite;
}

/* Confetti fall animation */
@keyframes confetti-fall {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0.8;
  }
}

.animate-confetti-fall {
  animation: confetti-fall 0.5s ease-out;
}

/* Spotlight effect for winner */
@keyframes spotlight {
  0%,
  100% {
    box-shadow: 0 0 60px 20px rgba(250, 204, 21, 0.3);
  }
  50% {
    box-shadow: 0 0 80px 30px rgba(250, 204, 21, 0.5);
  }
}

.animate-spotlight {
  animation: spotlight 2s ease-in-out infinite;
}

/* ============================================
   VICTORY OVERLAY COMPONENT STYLES
   ============================================ */

.victory-overlay {
  @apply fixed inset-0 z-50 flex items-center justify-center;
  @apply bg-black/70 backdrop-blur-sm;
  @apply transition-opacity duration-500;
}

.victory-overlay--visible {
  @apply opacity-100;
}

.victory-overlay--hidden {
  @apply opacity-0;
}

.victory-confetti-container {
  @apply absolute inset-0 overflow-hidden pointer-events-none;
}

.victory-content {
  @apply relative flex flex-col items-center gap-8 p-8;
  @apply transform transition-all;
  transition-duration: 600ms;
}

.victory-content--visible {
  @apply scale-100 translate-y-0;
}

.victory-content--hidden {
  @apply scale-90 translate-y-8;
}

.victory-title {
  @apply text-5xl md:text-6xl font-extrabold;
  @apply text-transparent bg-clip-text;
  @apply bg-gradient-to-r from-yellow-300 via-yellow-500 to-yellow-300;
  @apply drop-shadow-lg;
}

.victory-cards-container {
  @apply flex flex-col md:flex-row items-center gap-8 md:gap-16;
}

.victory-card-wrapper {
  @apply relative flex flex-col items-center;
  @apply transform transition-all duration-500;
}

.victory-card-wrapper--winner {
  @apply delay-200;
}

.victory-card-wrapper--loser {
  @apply delay-300;
}

.victory-card-wrapper--visible {
  @apply scale-100 opacity-100;
}

.victory-card-wrapper--hidden {
  @apply scale-75 opacity-0;
}

.victory-glow {
  @apply absolute inset-0 -m-4 rounded-2xl;
  @apply bg-yellow-400/30 blur-xl;
}

.victory-winner-card {
  @apply relative flex flex-col items-center p-6 rounded-xl;
  @apply bg-gradient-to-b from-yellow-900/80 to-yellow-950/90;
  @apply border-4 border-yellow-400 shadow-2xl;
  @apply ring-4 ring-yellow-400/50;
}

.victory-loser-card {
  @apply relative flex flex-col items-center p-6 rounded-xl;
  @apply bg-gradient-to-b from-gray-800/80 to-gray-900/90;
  @apply border-2 border-gray-600 shadow-xl;
  @apply opacity-70;
  filter: grayscale(50%);
}

.victory-badge {
  @apply absolute -top-4 left-1/2 -translate-x-1/2 px-4 py-1.5;
  @apply rounded-full font-bold text-sm uppercase tracking-wider;
  @apply shadow-lg;
}

.victory-badge--winner {
  @apply bg-gradient-to-r from-yellow-400 to-yellow-500;
  @apply text-yellow-900;
}

.victory-badge--loser {
  @apply bg-gradient-to-r from-gray-500 to-gray-600;
  @apply text-white;
}

.victory-card-image {
  @apply rounded-lg overflow-hidden bg-muted mb-3 mt-4;
}

.victory-card-image--winner {
  @apply w-40 h-40 md:w-48 md:h-48;
}

.victory-card-image--loser {
  @apply w-32 h-32 md:w-40 md:h-40;
}

.victory-card-image-placeholder {
  @apply w-full h-full flex items-center justify-center text-muted-foreground;
}

.victory-card-image-placeholder--winner {
  @apply bg-yellow-900/50;
}

.victory-card-image-placeholder--loser {
  @apply bg-gray-800;
}

.victory-card-name--winner {
  @apply text-xl md:text-2xl font-bold text-yellow-300;
  @apply text-center truncate max-w-[180px];
}

.victory-card-name--loser {
  @apply text-lg md:text-xl font-bold text-gray-400;
  @apply text-center truncate max-w-[160px];
}

.victory-card-stats--winner {
  @apply flex gap-4 mt-2 text-yellow-200/80 text-sm;
}

.victory-card-stats--loser {
  @apply flex gap-4 mt-2 text-gray-500 text-sm;
}

.victory-vs-divider {
  @apply text-3xl font-bold text-gray-500 hidden md:block;
}

.victory-new-battle-btn {
  @apply mt-4 px-8 py-6 text-lg font-bold;
  @apply bg-gradient-to-r from-yellow-500 to-orange-500;
  @apply hover:from-yellow-400 hover:to-orange-400;
  @apply text-white shadow-lg;
  @apply transform transition-all duration-300;
  @apply hover:scale-105 active:scale-95;
}

.victory-new-battle-btn--visible {
  @apply opacity-100 translate-y-0;
}

.victory-new-battle-btn--hidden {
  @apply opacity-0 translate-y-4;
}

/* ============================================
   BATTLE REPLAY PLAYER STYLES
   ============================================ */

/* Replay progress bar hover effect */
.replay-progress-marker:hover {
  @apply bg-primary/50;
}

/* Replay card container */
.replay-card-container {
  @apply relative transition-all duration-300;
}

/* Replay turn indicator animation */
@keyframes turn-indicator-pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

.animate-turn-indicator {
  animation: turn-indicator-pulse 1s ease-in-out infinite;
}

/* Speed button active state */
.speed-button-active {
  @apply bg-primary text-primary-foreground;
}

/* Replay controls container */
.replay-controls {
  @apply bg-card/80 backdrop-blur-sm rounded-lg p-4 shadow-lg;
}
